<!-- for service type listing -->
<div *ngIf="!loading" class="container service_div">
  <div class="row d-flex flex-wrap upper-section fixed_img_wrap">
    <div class="col-md-4 fixed_img">
      <img
        src="{{ listing.listingImageUrl }}"
        alt=""
        class="img-fluid list_img"
      />
    </div>
    <div class="col-md-8">
      <div class="info_part">
        <p *ngIf="!loading" class="service_cat">{{ listing.categories }}</p>
        <h1 class="mb-3">
          {{ listing.title }} <small>by {{ listing_user }}</small>
        </h1>
        <ul class="list-unstyled mb-5 event_info">
          <li><i class="fa fa-map-marker"></i>{{ listing.locationAddress }}</li>
          <li *ngIf="listing.isLive">
            <h5 class="live-part"><i class="fa fa-circle"></i>Live</h5>
          </li>
        </ul>
        <hr />

        <div class="about_host">
          <h2 class="h5 my-5">
            Description
          </h2>
          <pre id="description">{{ listing.description }}</pre>
        </div>

        <div class="about_host">
          <h2 class="h5 my-5">
            Refund
          </h2>
          <p *ngIf="listing.policy === 'sevenDay'" id="cancel_policy">
            7 days refund policy <br /><br />
            Ticket charges and all applicable processing fees are non-refundable
            7 days after purchase is completed.
          </p>
          <p *ngIf="listing.policy === 'oneDay'" id="cancel_policy">
            One day refund policy <br /><br />
            Ticket charges and all applicable processing fees are non-refundable
            24 hours after purchase is completed.
          </p>
          <p *ngIf="listing.policy === 'thirtyDay'" id="cancel_policy">
            30 days refund policy <br /><br />
            Ticket charges and all applicable processing fees are non-refundable
            30 days after purchase is completed.
          </p>
          <p *ngIf="listing.policy === 'no'" id="cancel_policy">
            No refund <br /><br />
            Ticket charges and all applicable processing fees are non-refundable
            after purchase is completed.
          </p>
        </div>
      </div>
    </div>
  </div>
  <hr />
  <div class="row mt-5 d-flex align-items-center flex-wrap py-5">
    <div class="col-md-4">
      <h3 class="m-0 title-section">Availability</h3>
    </div>
    <div class="col-md-8">
      <div class="card p-4">
        <div class="avail_info">
          <div class="left">
            <h4 class="h6 pb-2">
              {{ listing.startDate | date: "fullDate" }} {{ listing.startDate | date: "shortTime" }} -
              {{ listing.endDate | date: "fullDate" }} {{ listing.endDate | date: "shortTime" }}
            </h4>
            <p>
              <span *ngIf="listing.isFree" style="text-transform:uppercase">
                Free
              </span>
              <span *ngIf="!listing.isFree" style="text-transform:uppercase">
                {{ listing.currency }}$ {{ listing.bottomPrice }} -
                {{ listing.currency }}$ {{ listing.topPrice }}
              </span>
            </p>            
          </div>
          <div class="right">
            <!-- booking button -->
            <button class="btn btn-primary btn-sm" (click)="buy_ticket(template)">
              Buy ticket
            </button>            
          </div>
        </div>
      </div>
    </div>
  </div>
  <hr />
  <div class="row mt-5 d-flex flex-wrap py-5">
    <div class="col-md-4">
      <h3 class="m-0 title-section">Comments</h3>
    </div>
    <div class="col-md-8">
      <!-- comments div, please make it scrollable -->
      <div class="input-comment d-flex">
        <div class="comment-left">
          <img src="assets/images/user.png" />
        </div>
        <div class="comment-right">
          <h4>Donnel Albert</h4>
          <textarea type="text" placeholder="Enter Your Comment"></textarea>
          <button>Send</button>
        </div>
      </div>

      <div class="comments ">
        <ul>
          <li class="d-flex">
            <div class="comment-left">
              <img src="assets/images/user.png" />
            </div>
            <div class="comment-right">
              <h4>Donnel Albert</h4>
              <h5>
                <i class="fa fa-clock-o" aria-hidden="true"></i> 22 Dec 2018
              </h5>
              <pre>
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis. </pre
              >
            </div>
          </li>
          <li class="d-flex">
            <div class="comment-left">
              <img src="assets/images/user.png" />
            </div>
            <div class="comment-right">
              <h4>Donnel Albert</h4>
              <h5>
                <i class="fa fa-clock-o" aria-hidden="true"></i> 22 Dec 2018
              </h5>
              <pre>
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis. </pre
              >
            </div>
          </li>
          <li class="d-flex">
            <div class="comment-left">
              <img src="assets/images/user.png" />
            </div>
            <div class="comment-right">
              <h4>Donnel Albert</h4>
              <h5>
                <i class="fa fa-clock-o" aria-hidden="true"></i> 22 Dec 2018
              </h5>
              <pre>
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis. </pre
              >
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- for displaying loader  -->
<div *ngIf="loading" class="service_div loader_list">
  <img src="assets/images/loader.gif" />
</div>

<!-- confirm ticket part -->


<!-- ticket type template -->
<ng-template #template>
  <app-ticket-type [modalRef]="modalRef" [hostId]="ticket_host" [listingId]="ticket_listing"></app-ticket-type>
</ng-template>